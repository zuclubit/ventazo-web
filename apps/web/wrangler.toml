# ===========================================
# Cloudflare Pages Configuration
# Zuclubit CRM - Frontend (using OpenNext)
# ===========================================

name = "ventazo"
compatibility_date = "2024-11-01"
compatibility_flags = ["nodejs_compat"]

# Pages build output directory (required for Pages wrangler.toml support)
pages_build_output_dir = ".open-next"

# Environment variables (set in Cloudflare Dashboard for secrets)
[vars]
# Production environment
NODE_ENV = "production"
NEXT_PUBLIC_APP_NAME = "Zuclubit CRM"
NEXT_PUBLIC_API_URL = "https://zuclubit-lead-service.fly.dev/api/v1"
NEXT_PUBLIC_API_VERSION = "v1"
NEXT_PUBLIC_TENANT_MODE = "path"
NEXT_PUBLIC_ENABLE_DARK_MODE = "true"
NEXT_PUBLIC_ENABLE_ANALYTICS = "true"
NEXT_PUBLIC_ENABLE_DEV_TOOLS = "false"
# Server-side API URL for Server Actions
API_URL = "https://zuclubit-lead-service.fly.dev/api/v1"
# Supabase Configuration (public keys)
NEXT_PUBLIC_SUPABASE_URL = "https://fngdlxipgrkpbutiqjhw.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZuZ2RseGlwZ3JrcGJ1dGlxamh3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU3MjExMzUsImV4cCI6MjA4MTI5NzEzNX0.V26aOFufrza_G2nv1N6_PanCNoovLiaw5uObKcXtnQc"
# Server-side Supabase config (also available for API routes)
SUPABASE_URL = "https://fngdlxipgrkpbutiqjhw.supabase.co"
SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZuZ2RseGlwZ3JrcGJ1dGlxamh3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU3MjExMzUsImV4cCI6MjA4MTI5NzEzNX0.V26aOFufrza_G2nv1N6_PanCNoovLiaw5uObKcXtnQc"
# Note: SUPABASE_SERVICE_ROLE_KEY should be set as a secret via: wrangler pages secret put SUPABASE_SERVICE_ROLE_KEY

# ===========================================
# SSO Configuration (Zuclubit SSO)
# ===========================================
# Public SSO variables
NEXT_PUBLIC_SSO_ISSUER_URL = "https://sso.zuclubit.com"
NEXT_PUBLIC_SSO_CLIENT_ID = "ventazo"
NEXT_PUBLIC_AUTH_MODE = "sso"
# Server-side SSO config
SSO_ISSUER_URL = "https://sso.zuclubit.com"
SSO_JWKS_URI = "https://sso.zuclubit.com/.well-known/jwks.json"
SSO_CLIENT_ID = "ventazo"
# Note: SSO_CLIENT_SECRET and SESSION_SECRET should be set as secrets via:
# wrangler pages secret put SSO_CLIENT_SECRET
# wrangler pages secret put SESSION_SECRET

# Preview environment
[env.preview.vars]
NEXT_PUBLIC_ENABLE_DEV_TOOLS = "true"
NEXT_PUBLIC_ENABLE_ANALYTICS = "false"
