# =============================================================================
# Lead Service - STAGING Environment Configuration
# =============================================================================
# IMPORTANTE: Este archivo es solo de ejemplo.
# Los valores reales deben configurarse en Google Secret Manager
# =============================================================================

# -----------------------------------------------------------------------------
# Node Environment
# -----------------------------------------------------------------------------
NODE_ENV=staging

# -----------------------------------------------------------------------------
# Server Configuration (Cloud Run configura PORT automáticamente)
# -----------------------------------------------------------------------------
PORT=3000
HOST=0.0.0.0

# -----------------------------------------------------------------------------
# Database Configuration - Supabase Cloud
# -----------------------------------------------------------------------------
# Obtener de: https://supabase.com/dashboard/project/[PROJECT_ID]/settings/database
POSTGRES_HOST=db.[PROJECT_ID].supabase.co
POSTGRES_PORT=5432
POSTGRES_DB=postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-supabase-db-password

# Connection Pool Settings (ajustar para Cloud Run)
DB_POOL_MAX=5
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=5000
DB_STATEMENT_TIMEOUT=60000

# -----------------------------------------------------------------------------
# Supabase Authentication
# -----------------------------------------------------------------------------
# Obtener de: https://supabase.com/dashboard/project/[PROJECT_ID]/settings/api
SUPABASE_URL=https://[PROJECT_ID].supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_JWT_SECRET=your-jwt-secret-from-supabase

# -----------------------------------------------------------------------------
# NATS Event Bus (Opcional para staging - puede deshabilitarse)
# -----------------------------------------------------------------------------
# Si no usas NATS en staging, el servicio funcionará sin eventos
NATS_SERVERS=nats://nats-server:4222

# -----------------------------------------------------------------------------
# API Security Configuration
# -----------------------------------------------------------------------------
# Frontend staging URL
CORS_ORIGINS=https://staging.zuclubit.com,http://localhost:5173

# Rate limiting (más permisivo para testing)
RATE_LIMIT_MAX=200
RATE_LIMIT_WINDOW=1 minute

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Resend Email Configuration (Staging)
# -----------------------------------------------------------------------------
# Usar dominio de prueba o sandbox
RESEND_API_KEY=re_staging_xxxxx
RESEND_FROM_EMAIL=staging@zuclubit.com
RESEND_FROM_NAME=Zuclubit CRM (Staging)

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
APP_NAME=Zuclubit CRM (Staging)
APP_URL=https://staging.zuclubit.com
SUPPORT_EMAIL=staging-support@zuclubit.com

# -----------------------------------------------------------------------------
# External Services (Staging/Sandbox)
# -----------------------------------------------------------------------------
# Twilio - Usar números de prueba
TWILIO_ACCOUNT_SID=ACxxxxx_test
TWILIO_AUTH_TOKEN=xxxxx_test
TWILIO_PHONE_NUMBER=+15005550006

# Firebase - Proyecto de staging separado
FIREBASE_PROJECT_ID=zuclubit-crm-staging

# Stripe - Modo de prueba
STRIPE_SECRET_KEY=sk_test_xxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxx

# -----------------------------------------------------------------------------
# Feature Flags (Staging)
# -----------------------------------------------------------------------------
ENABLE_CRON_SCHEDULER=false
ENABLE_WEBHOOKS=true
ENABLE_AI_FEATURES=false
