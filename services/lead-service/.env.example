# =============================================================================
# Lead Service - Environment Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Node Environment
# -----------------------------------------------------------------------------
NODE_ENV=development

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
PORT=3000
HOST=0.0.0.0

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=leads
POSTGRES_USER=dev
POSTGRES_PASSWORD=dev123

# Connection Pool Settings (Optional)
DB_POOL_MAX=10
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=5000
DB_STATEMENT_TIMEOUT=60000

# -----------------------------------------------------------------------------
# NATS Event Bus Configuration
# -----------------------------------------------------------------------------
NATS_SERVERS=nats://localhost:4222
# For multiple servers: NATS_SERVERS=nats://server1:4222,nats://server2:4222

# -----------------------------------------------------------------------------
# API Security Configuration
# -----------------------------------------------------------------------------
# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Rate limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=1 minute

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
LOG_LEVEL=debug

# -----------------------------------------------------------------------------
# Resend Email Configuration
# -----------------------------------------------------------------------------
RESEND_API_KEY=re_xxxxx
RESEND_FROM_EMAIL=noreply@zuclubit.com
RESEND_FROM_NAME=Zuclubit CRM

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
APP_NAME=Zuclubit CRM
APP_URL=https://app.zuclubit.com
SUPPORT_EMAIL=soporte@zuclubit.com

# -----------------------------------------------------------------------------
# Twilio Configuration (SMS & WhatsApp)
# -----------------------------------------------------------------------------
TWILIO_ACCOUNT_SID=ACxxxxx
TWILIO_AUTH_TOKEN=xxxxx
# Alternative: API Key authentication (more secure for production)
# TWILIO_API_KEY_SID=SKxxxxx
# TWILIO_API_KEY_SECRET=xxxxx
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_WHATSAPP_NUMBER=+1234567890
# Optional: Messaging Service for better delivery
# TWILIO_MESSAGING_SERVICE_SID=MGxxxxx

# -----------------------------------------------------------------------------
# Firebase Configuration (Push Notifications)
# -----------------------------------------------------------------------------
# Option 1: Service Account credentials (direct)
FIREBASE_PROJECT_ID=your-project-id
# FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
# FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxx@your-project.iam.gserviceaccount.com

# Option 2: Application Default Credentials (ADC)
# Requires: gcloud auth application-default login
FIREBASE_USE_ADC=true

# Option 3: Service Account JSON file path
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# -----------------------------------------------------------------------------
# Bot Helper AI Integration (zuclubit-bot-helper)
# -----------------------------------------------------------------------------
# Native integration with bot-helper for multi-provider AI services
# When configured, bot-helper becomes the default AI provider

# Bot-helper API URL
BOT_HELPER_API_URL=http://localhost:3000

# Shared secret for HMAC authentication (must match CRM_INTEGRATION_SECRET in bot-helper)
# Generate with: openssl rand -hex 32
BOT_HELPER_SHARED_SECRET=your-crm-integration-secret-min-32-chars

# Request timeout in milliseconds
BOT_HELPER_TIMEOUT=30000

# Preferred AI provider (optional - let bot-helper decide if not set)
# Options: openai, anthropic, groq, google, mistral
# BOT_HELPER_PREFERRED_PROVIDER=anthropic

# Preferred model (optional)
# BOT_HELPER_PREFERRED_MODEL=claude-sonnet-4-20250514

# -----------------------------------------------------------------------------
# Native Authentication (Required for Production)
# -----------------------------------------------------------------------------
# JWT secret for signing tokens (minimum 32 characters)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-jwt-secret-min-32-chars-change-in-production

# JWT issuer identifier
JWT_ISSUER=zuclubit-crm

# Token expiration times
ACCESS_TOKEN_EXPIRY=1h
REFRESH_TOKEN_EXPIRY=7d

# Internal API key for frontend-backend communication
# Generate with: openssl rand -hex 32
INTERNAL_API_KEY=your-internal-api-key-min-32-chars

# -----------------------------------------------------------------------------
# Supabase Configuration (Storage only - auth is now native JWT)
# -----------------------------------------------------------------------------
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_KEY=your-service-key
